<!DOCTYPE html><html dir="rtl"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title class="jsx-398019409">json schema چیست</title><meta name="next-head-count" content="3"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"/><link rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/3bdb22000a33fbd6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3bdb22000a33fbd6.css" data-n-g=""/><link rel="preload" href="/_next/static/css/16b2c27add3fec1c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/16b2c27add3fec1c.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-114634acb84f8baa.js" defer=""></script><script src="/_next/static/chunks/main-673a4fae4a27af6a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-78a051c38553426e.js" defer=""></script><script src="/_next/static/chunks/996-c5e5aa4c30f33066.js" defer=""></script><script src="/_next/static/chunks/417-46e23f683354c41b.js" defer=""></script><script src="/_next/static/chunks/749-571f07ed1595f644.js" defer=""></script><script src="/_next/static/chunks/pages/note/%5Btitle%5D-da59d779308460b6.js" defer=""></script><script src="/_next/static/LO2rXuHt4D5FRlNvyvOq1/_buildManifest.js" defer=""></script><script src="/_next/static/LO2rXuHt4D5FRlNvyvOq1/_ssgManifest.js" defer=""></script><style id="__jsx-398019409">.cardHeader.jsx-398019409{background:url(/_next/static/media/header.8d53fe0d.png)#237326;height:120px;text-align:center;-webkit-border-radius:15px 15px 0 0;-moz-border-radius:15px 15px 0 0;border-radius:15px 15px 0 0;background-position:center;-webkit-background-size:500px;-moz-background-size:500px;-o-background-size:500px;background-size:500px;margin-bottom:40px}</style></head><body><div id="__next"><div style="background:url(/_next/static/media/header.8d53fe0d.png) #237326;background-size:950px" class="jsx-398019409 note_background__RQH1i"><div class="navbar_navbar__NDFN3 _navbar"><div class="container-fluid nav"><ul><li> <a class="navbar_navLink__iRnns" href="/">صفحه ی اصلی</a> </li><li> <a class="navbar_navLink__iRnns" href="/category">دسته بندی ها</a> </li><li> <a class="navbar_navLink__iRnns" href="/resume">رزومه</a> </li></ul></div></div><div class="jsx-398019409 container"><div class="jsx-398019409 row"><div class="jsx-398019409 col-md-8"><h1 class="jsx-398019409 note_note_title__T7tYy">json schema چیست</h1><div class="jsx-398019409 note_card__oGU9m note_meduimFont__yRcxR"><img src="/images//64d8d1c8a9964af6b53adfce.png" class="jsx-398019409 note_card_img__1ZZvJ"/><div class="jsx-398019409 note_title__npIjl"><h2 class="jsx-398019409">json schema چیست</h2><p class="jsx-398019409">در این نوشته خواهید خواند:</p><div class="jsx-398019409 note_title__tags__YlihY"><ul class="jsx-398019409"><li class="jsx-398019409"><a class="link" href="/note/json_schema_%DA%86%DB%8C%D8%B3%D8%AA#%D9%BE%DB%8C%D8%B4%DA%AF%D9%81%D8%AA%D8%A7%D8%B1">پیشگفتار</a></li><li class="jsx-398019409"><a class="link" href="/note/json_schema_%DA%86%DB%8C%D8%B3%D8%AA#backend%20%DB%8C%D8%A7%20frontend">backend یا frontend</a></li><li class="jsx-398019409"><a class="link" href="/note/json_schema_%DA%86%DB%8C%D8%B3%D8%AA#%D8%AA%D8%B9%D8%B1%DB%8C%D9%81">تعریف</a></li><li class="jsx-398019409"><a class="link" href="/note/json_schema_%DA%86%DB%8C%D8%B3%D8%AA#%D9%85%D8%AB%D8%A7%D9%84">مثال</a></li></ul></div></div><div class="jsx-398019409 around"><h3 id="پیشگفتار" style="margin:10px">پیشگفتار</h3><div style="margin:20px"><p>اکثر فریم ورک های برنامه نویسی وب ، ویژگی validation form رو دارن که میاد داده هایی که کاربر قرار هست برای سرور بفرسته رو اعتبارسنجی میکنه. اما یک قالب عمومی برای json هست که قالب یک json رو با یک json دیگه توصیف میکنیم. اینجا میخام درباره <b>json schema</b> صحبت کنم.</p></div><h3 id="backend یا frontend" style="margin:10px">backend یا frontend</h3><div style="margin:20px"><p>یکی از ویژگی های خیلی منحصربفرد node.js اینه که شما یک تیکه کد رو میتونید توی هر قسمتی از سیستمتون استفاده کنین. مثلا یک کد دارید که قرار هست داده هایی که کاربر میفرسته رو اعتبارسنجی کنه. همون کد رو بدون هیچ تغییری میتونید و هم تو frontend هم توی backend بذارید.</p><p>قالب json بومی جاوااسکریپت هست و میتونید اونو توی کد ها و اسکریپت های js تعریف کنید. اما نمیشه برای اون چارچوبی تعیین کرد. هرچند که اگر کدتون typescript باشه میتونید برای مثال با interface یک object رو تعریف کنید اما این توصیف برای توسعه کار خودتون مفید هست و اصطلاحا برای syntax استفاده میشه و نمیشه بهش دید اعتبارسنجی داشت.</p><p>از یک طرف برای اینکه یک قالب عمومی برای بقیه زبان ها وجود داشته باشه که بیاد به json نگاه کنه و متوجه شه که این قالب صحیح هست یا نه امکانی معرفی شد به اسم json schema که برای object های json یک json دیگه میسازید که قالب رو توصیف کنه.</p></div><h3 id="تعریف" style="margin:10px">تعریف</h3><div style="margin:20px"><p>یک json از کلید ها و مقدار ها یا key و value تشکیل میشه. عموما کلید ها string هستن و رایج هم همینه ولی میتونن از نوع های دیگه باشن. <i>ذهنیت ما همون قالب عمومی یا string بمونه بهتره</i>.</p><p>مقادیر یا value ها میتونن از انواع رشته ، عددی ، منطقی یا boolean و یا آرایه باشن. با همین اوصاف میشه برای یک json قاعده تعریف کرد.</p><p>برای مثال قالب ما اینطوری باشه:یک object هست (همون کلید مقدار) که کلید مقادرش باید اینطور باشه که یک فیلد به اسم age از نوع عدد &quot;<u><i>میتونه</i></u><i>&quot;</i> داشته باشه. یک فیلد هم به اسم id از نوع رشته ای <i>&quot;</i><u><i>حتما&quot;</i></u> باید داشته باشه.چیزی جز اینها هم دیگه نداشته باشه.</p><p>توصیفش میشه این:</p></div><div class="around" dir="ltr"><code><pre>{
    &quot;type&quot;: &quot;object&quot;,
    &quot;properties&quot;: {
      &quot;age&quot;: { &quot;type&quot;:&quot;number&quot;, &quot;nullable&quot;: true },
      &quot;id&quot;: { &quot;type&quot;:&quot;string&quot; }
    },
    &quot;required&quot;:[&quot;id&quot;],
    &quot;additionalProperties&quot;: false
}
</pre></code></div><h3 id="مثال" style="margin:10px">مثال</h3><div class="frame_frame__P5_oT"><img src="/static/ic_tip.png"/><div><p><i>یه جمله معروف از آلبرت انیشتین هست که میگه</i></p></div><div><p><i><b>مثال بهترین راه آموزش نیست، تنها راه آموزش هست.</b></i></p></div></div><div style="margin:20px"><p>مثال بالا یک مثال ساده بود. حالا یک سناریوی کاملتر نسبت به قبلی رو اینجا تعریف میکنم. فرض کنید وب سروری هست که داده هایی رو از فرانت دریافت میکنه و برای ذخیره توی پایگاه داده هاش میاد و این داده ها رو بررسی میکنه که آیا معتبر هست یا نه.</p><p>داده ای که میگیره باید این خصوصیات رو داشته باشه. یک json هست که کلیدهایی داره. <u>کلید شماره یک</u> اسمش <i><b>id</b></i> هستش که باید string باشه اجباری هم هست. <u>کلید شماره 2</u> اسمش <i><b>name</b></i> هست، اجباریه و باید از نوع string باشه. <u>کلید شماره 3</u> اسمش <i><b>address</b></i> هست که یک آرایه هست. اعضای این آرایه باید اینطوری باشن که یک json باشن با کلید های city از نوع string که اجباریه و street که اختیاری نیست ,و اونم از نوع string هستش. جز این ها هم نباید چیز اضافی داشته باشه. <u>کلید شماره 4</u> اسمش married هست (<i>چیز دیگه به ذهنم نرسید) </i>که از نوع منطقی یا boolean باید باشه و <u>کلید شماره 5</u> هم اسمش age هست که از نوع عدد هست.</p><p>این یک مثال از توصیف های ما هست که شرایط ما رو احراز میکنه:</p></div><div class="around" dir="ltr"><code><pre>{
    &quot;id&quot;: &quot;ae450-16220-b405a&quot;,
    &quot;name&quot;: &quot;farhang&quot;,
    &quot;address&quot;: [
      {
        &quot;city&quot;: &quot;tehran&quot;,
        &quot;street&quot;: &quot;jannat abad&quot;
      }
    ],
    &quot;married&quot;: false,
    &quot;age&quot;: 27
}
</pre></code></div><div style="margin:20px"><p>همین سناریو رو برای وب سرورمون با json schema توصیفش میکنیم. کدی که این شرایط رو توصیف میکنه این شکلی هست:</p></div><div class="around" dir="ltr"><code><pre>{
    &quot;type&quot;: &quot;object&quot;,
    &quot;properties&quot;: {
      
      &quot;id&quot;: { &quot;type&quot;: &quot;string&quot;},
      &quot;name&quot;: { &quot;type&quot;: &quot;string&quot;},
      &quot;married&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;nullable&quot;: true},
      &quot;age&quot;: { &quot;type&quot;: &quot;boolean&quot;, &quot;nullable&quot;: true},

      &quot;address&quot;: {
        &quot;type&quot;: &quot;array&quot;,
        &quot;items&quot;: {
          &quot;type&quot;: &quot;object&quot;,
          &quot;properties&quot;: {
            &quot;city&quot;:{ &quot;type&quot;:&quot;string&quot; },
            &quot;street&quot;:{ &quot;type&quot;:&quot;string&quot; }
          },
          &quot;addtionalProperties&quot;: false,
          &quot;required&quot;:[&quot;city&quot;,&quot;street&quot;]
        }
      }

    },
    &quot;addtionalProperties&quot;: false,
    &quot;required&quot;:[&quot;id&quot;,&quot;name&quot;,&quot;address&quot;]
  }
</pre></code></div><div style="margin:20px"><p>شاید احتیاج بدونید توضیح بدم ، اما بحث json schema خیلی عمیق تر از این صحبت ها هست و کلی داکیومنت گسترده براش وجود داره. جاهایی که مثلا یک کلید از دو نوع باشه یا اگر از یک نوع بود بقیه الگو کلا یه شکل دیگه باشه. یا مسایل دیگه. ولی فعلا تا اینجا بهترین ابزار توصیف json بحساب میاد و میشه باهاش برای json الگو تعیین کرد.</p><p>برای node js که من کار میکنم بهترین کتابخونه براش ، ajv هست که هم میتونید توی frontend هم توی backend داشته باشید.</p></div></div></div></div><div class="jsx-398019409 col-md-4"><div class="jsx-398019409 note_category_card__Wcgk_"><img src="/images//demo.64d50ec469736b1601e502e7.png" alt="" class="jsx-398019409"/><h2 class="jsx-398019409">نود جی اس</h2><p class="jsx-398019409">مطالب آموزشی درباره برنامه نویسی نود جی اس</p></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"title":"json schema چیست","content":[{"header":"h3","text":"پیشگفتار","id":"bc84a794","type":"title","align":"start"},{"content":[{"content":[{"text":"اکثر فریم ورک های برنامه نویسی وب ، ویژگی validation form رو دارن که میاد داده هایی که کاربر قرار هست برای سرور بفرسته رو اعتبارسنجی میکنه. اما یک قالب عمومی برای json هست که قالب یک json رو با یک json دیگه توصیف میکنیم. اینجا میخام درباره ","style":{"weight":[]}},{"text":"json schema","style":{"weight":["BOLD"]}},{"text":" صحبت کنم.","style":{"weight":[]}}]}],"id":"5b77b214","type":"caption"},{"header":"h3","text":"backend یا frontend","id":"ad19bbc2","type":"title","align":"start"},{"content":[{"content":[{"text":"یکی از ویژگی های خیلی منحصربفرد node.js اینه که شما یک تیکه کد رو میتونید توی هر قسمتی از سیستمتون استفاده کنین. مثلا یک کد دارید که قرار هست داده هایی که کاربر میفرسته رو اعتبارسنجی کنه. همون کد رو بدون هیچ تغییری میتونید و هم تو frontend هم توی backend بذارید.","style":{"weight":[]}}]},{"content":[{"text":"قالب json بومی جاوااسکریپت هست و میتونید اونو توی کد ها و اسکریپت های js تعریف کنید. اما نمیشه برای اون چارچوبی تعیین کرد. هرچند که اگر کدتون typescript باشه میتونید برای مثال با interface یک object رو تعریف کنید اما این توصیف برای توسعه کار خودتون مفید هست و اصطلاحا برای syntax استفاده میشه و نمیشه بهش دید اعتبارسنجی داشت.","style":{"weight":[]}}]},{"content":[{"text":"از یک طرف برای اینکه یک قالب عمومی برای بقیه زبان ها وجود داشته باشه که بیاد به json نگاه کنه و متوجه شه که این قالب صحیح هست یا نه امکانی معرفی شد به اسم json schema که برای object های json یک json دیگه میسازید که قالب رو توصیف کنه.","style":{"weight":[]}}]}],"id":"2755ad9b","type":"caption"},{"header":"h3","text":"تعریف","id":"5331535b","type":"title","align":"start"},{"content":[{"content":[{"text":"یک json از کلید ها و مقدار ها یا key و value تشکیل میشه. عموما کلید ها string هستن و رایج هم همینه ولی میتونن از نوع های دیگه باشن. ","style":{"weight":[]}},{"text":"ذهنیت ما همون قالب عمومی یا string بمونه بهتره","style":{"weight":["ITALIC"]}},{"text":".","style":{"weight":[]}}]},{"content":[{"text":"مقادیر یا value ها میتونن از انواع رشته ، عددی ، منطقی یا boolean و یا آرایه باشن. با همین اوصاف میشه برای یک json قاعده تعریف کرد.","style":{"weight":[]}}]},{"content":[{"text":"برای مثال قالب ما اینطوری باشه:یک object هست (همون کلید مقدار) که کلید مقادرش باید اینطور باشه که یک فیلد به اسم age از نوع عدد \"","style":{"weight":[]}},{"text":"میتونه","style":{"weight":["UNDERLINE","ITALIC"]}},{"text":"\"","style":{"weight":["ITALIC"]}},{"text":" داشته باشه. یک فیلد هم به اسم id از نوع رشته ای ","style":{"weight":[]}},{"text":"\"","style":{"weight":["ITALIC"]}},{"text":"حتما\"","style":{"weight":["UNDERLINE","ITALIC"]}},{"text":" باید داشته باشه.چیزی جز اینها هم دیگه نداشته باشه.","style":{"weight":[]}}]},{"content":[{"text":"توصیفش میشه این:","style":{"weight":[]}}]}],"id":"c87ff3f7","type":"caption"},{"text":"{\n    \"type\": \"object\",\n    \"properties\": {\n      \"age\": { \"type\":\"number\", \"nullable\": true },\n      \"id\": { \"type\":\"string\" }\n    },\n    \"required\":[\"id\"],\n    \"additionalProperties\": false\n}\n","id":"26fc3a4e","type":"code"},{"header":"h3","text":"مثال","id":"d24f9271","type":"title","align":"start"},{"content":[{"content":[{"text":"یه جمله معروف از آلبرت انیشتین هست که میگه","style":{"weight":["ITALIC"]}}]},{"content":[{"text":"مثال بهترین راه آموزش نیست، تنها راه آموزش هست.","style":{"weight":["ITALIC","BOLD"]}}]}],"id":"66786692","type":"frame","status":"tip"},{"content":[{"content":[{"text":"مثال بالا یک مثال ساده بود. حالا یک سناریوی کاملتر نسبت به قبلی رو اینجا تعریف میکنم. فرض کنید وب سروری هست که داده هایی رو از فرانت دریافت میکنه و برای ذخیره توی پایگاه داده هاش میاد و این داده ها رو بررسی میکنه که آیا معتبر هست یا نه.","style":{"weight":[]}}]},{"content":[{"text":"داده ای که میگیره باید این خصوصیات رو داشته باشه. یک json هست که کلیدهایی داره. ","style":{"weight":[]}},{"text":"کلید شماره یک","style":{"weight":["UNDERLINE"]}},{"text":" اسمش ","style":{"weight":[]}},{"text":"id","style":{"weight":["ITALIC","BOLD"]}},{"text":" هستش که باید string باشه اجباری هم هست. ","style":{"weight":[]}},{"text":"کلید شماره 2","style":{"weight":["UNDERLINE"]}},{"text":" اسمش ","style":{"weight":[]}},{"text":"name","style":{"weight":["ITALIC","BOLD"]}},{"text":" هست، اجباریه و باید از نوع string باشه. ","style":{"weight":[]}},{"text":"کلید شماره 3","style":{"weight":["UNDERLINE"]}},{"text":" اسمش ","style":{"weight":[]}},{"text":"address","style":{"weight":["ITALIC","BOLD"]}},{"text":" هست که یک آرایه هست. اعضای این آرایه باید اینطوری باشن که یک json باشن با کلید های city از نوع string که اجباریه و street که اختیاری نیست ,و اونم از نوع string هستش. جز این ها هم نباید چیز اضافی داشته باشه. ","style":{"weight":[]}},{"text":"کلید شماره 4","style":{"weight":["UNDERLINE"]}},{"text":" اسمش married هست (","style":{"weight":[]}},{"text":"چیز دیگه به ذهنم نرسید) ","style":{"weight":["ITALIC"]}},{"text":"که از نوع منطقی یا boolean باید باشه و ","style":{"weight":[]}},{"text":"کلید شماره 5","style":{"weight":["UNDERLINE"]}},{"text":" هم اسمش age هست که از نوع عدد هست.","style":{"weight":[]}}]},{"content":[{"text":"این یک مثال از توصیف های ما هست که شرایط ما رو احراز میکنه:","style":{"weight":[]}}]}],"id":"f0fa4379","type":"caption"},{"text":"{\n    \"id\": \"ae450-16220-b405a\",\n    \"name\": \"farhang\",\n    \"address\": [\n      {\n        \"city\": \"tehran\",\n        \"street\": \"jannat abad\"\n      }\n    ],\n    \"married\": false,\n    \"age\": 27\n}\n","id":"9f858b8b","type":"code"},{"content":[{"content":[{"text":"همین سناریو رو برای وب سرورمون با json schema توصیفش میکنیم. کدی که این شرایط رو توصیف میکنه این شکلی هست:","style":{"weight":[]}}]}],"id":"bcb9fe0e","type":"caption"},{"text":"{\n    \"type\": \"object\",\n    \"properties\": {\n      \n      \"id\": { \"type\": \"string\"},\n      \"name\": { \"type\": \"string\"},\n      \"married\": { \"type\": \"string\", \"nullable\": true},\n      \"age\": { \"type\": \"boolean\", \"nullable\": true},\n\n      \"address\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"city\":{ \"type\":\"string\" },\n            \"street\":{ \"type\":\"string\" }\n          },\n          \"addtionalProperties\": false,\n          \"required\":[\"city\",\"street\"]\n        }\n      }\n\n    },\n    \"addtionalProperties\": false,\n    \"required\":[\"id\",\"name\",\"address\"]\n  }\n","id":"a2d00c4e","type":"code"},{"content":[{"content":[{"text":"شاید احتیاج بدونید توضیح بدم ، اما بحث json schema خیلی عمیق تر از این صحبت ها هست و کلی داکیومنت گسترده براش وجود داره. جاهایی که مثلا یک کلید از دو نوع باشه یا اگر از یک نوع بود بقیه الگو کلا یه شکل دیگه باشه. یا مسایل دیگه. ولی فعلا تا اینجا بهترین ابزار توصیف json بحساب میاد و میشه باهاش برای json الگو تعیین کرد.","style":{"weight":[]}}]},{"content":[{"text":"برای node js که من کار میکنم بهترین کتابخونه براش ، ajv هست که هم میتونید توی frontend هم توی backend داشته باشید.","style":{"weight":[]}}]}],"id":"11e3b4ad","type":"caption"}],"author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","tag":[],"category":{"label":"نود جی اس","author":"645b942ad412792a214b1177","description":"مطالب آموزشی درباره برنامه نویسی نود جی اس","parent":"64d4ce0abed03dc8b207ba64","color":"#237326","namespace":"64ae7b316730ddb96b37c6fb","avatar":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/demo.64d50ec469736b1601e502e7.png","id":"64d4cf81bed03dc8b207ba6a","notes":[{"title":"متن بسته nodejs","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","tag":[],"category":"64d4cf81bed03dc8b207ba6a","photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64d8d34ea9964af6b53adfdd.jpeg","id":"64d8cde242d55f88a06365c1"},{"title":"json schema چیست","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","tag":[],"category":"64d4cf81bed03dc8b207ba6a","photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64d8d1c8a9964af6b53adfce.png","id":"64d8ce6a42d55f88a06365c9"},{"title":"nestjs چیست؟","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","tag":["nodejs","nestjs","framework ","فریمورک","نود جی اس"],"category":"64d4cf81bed03dc8b207ba6a","photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64d8cef1a9964af6b53adfc5.jpeg","id":"64d8cd6242d55f88a06365b7"},{"title":"راهی به اسم nextjs","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","tag":[],"category":"64d4cf81bed03dc8b207ba6a","photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64d8ceeda9964af6b53adfb7.jpeg","id":"64d8cdc842d55f88a06365bf"}]},"photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64d8d1c8a9964af6b53adfce.png","id":"64d8ce6a42d55f88a06365c9"}},"__N_SSG":true},"page":"/note/[title]","query":{"title":"json_schema_چیست"},"buildId":"LO2rXuHt4D5FRlNvyvOq1","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>