{"pageProps":{"note":{"title":"کتابخانه ی (Riverpod (StreamProvider","content":[{"header":"h3","text":"پیشگفتار","id":"6971a83a","type":"title","align":"start"},{"id":"babff597","type":"caption","content":[{"content":[{"text":"StreamProvider یکی از انواع Provider در کتابخانه Riverpod برای مدیریت وضعیت‌های مرتبط با داده‌های پیوسته مانند جریان داده‌ها (Stream) استفاده می‌شود. این Provider شباهت هایی به سیستم BloC دارد و به توسعه‌دهندگان اجازه می‌دهد به راحتی از داده‌های پیوسته مانند چت، وضعیت‌های لحظه‌ای، اخبار، یا تغییرات در برنامه‌های Flutter استفاده کنند.","style":{"weight":[]}}]}]},{"content":[{"content":[{"text":"اگر نمیدانید دقیقا Riverpod چیست پست معرفی اون رو مطالعه کنید","style":{"weight":["BOLD"]}}]}],"id":"02ab72c0","type":"frame","status":"warning"},{"header":"h3","text":"نحوه ی کارکرد","id":"049d1dfb","type":"title","align":"start"},{"id":"ebe11416","type":"caption","content":[{"content":[{"text":"ابتدا StreamProvider را تعریف کنید و یک جریان داده (Stream) مناسب را مشخص کنید. سپس در بخش‌های مختلف برنامه، می‌توانید از این StreamProvider برای خواندن و استفاده از داده‌های جریان استفاده کنید.","style":{"weight":[]}}]}]},{"header":"h3","text":"مثال","id":"25e2dfb6","type":"title","align":"start"},{"text":"import 'package:flutter_riverpod/flutter_riverpod.dart';\nimport 'dart:async';\n\n// 1. تعریف StreamProvider برای مدیریت جریان داده\nfinal counterStreamProvider = StreamProvider<int>((ref) {\n  // ایجاد یک جریان داده با تعداد تکرار هر یک ثانیه\n  final streamController = StreamController<int>();\n  final timer = Timer.periodic(Duration(seconds: 1), (timer) {\n    streamController.sink.add(timer.tick);\n  });\n\n  // توجه: باید جریان را ببندیم و منابع مصرفی را آزاد کنیم\n  ref.onDispose(() {\n    timer.cancel();\n    streamController.close();\n  });\n\n  return streamController.stream;\n});","id":"375eaed6","type":"code"},{"text":"import 'package:flutter/material.dart';\n\nvoid main() {\n  runApp(\n    ProviderScope(\n      child: MyApp(),\n    ),\n  );\n}\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('StreamProvider در Riverpod - جریان داده'),\n        ),\n        body: Center(\n          child: Consumer(builder: (context, watch, child) {\n            // 2. خواندن وضعیت جریان داده از StreamProvider\n            final counterStream = watch(counterStreamProvider);\n\n            return Column(\n              mainAxisAlignment: MainAxisAlignment.center,\n              children: [\n                StreamBuilder<int>(\n                  stream: counterStream,\n                  builder: (context, snapshot) {\n                    return Text('شمارنده: ${snapshot.data ?? 0}', style: TextStyle(fontSize: 24));\n                  },\n                ),\n              ],\n            );\n          }),\n        ),\n      ),\n    );\n  }\n}","id":"eea9aedb","type":"code"},{"id":"fe7bb2f9","type":"caption","content":[{"content":[{"text":"در اینجا ما یک StreamProvider با نام counterStreamProvider تعریف کرده‌ایم و یک جریان داده (Stream) ساخته‌ایم که هر یک ثانیه یک بار مقدار جدید ارسال می‌کند.","style":{"weight":[]}}]},{"content":[{"text":"در بخش MyApp، ما از Consumer برای خواندن وضعیت جریان داده از counterStreamProvider استفاده می‌کنیم و از StreamBuilder برای نمایش داده‌های جریان استفاده می‌کنیم.","style":{"weight":[]}}]},{"content":[{"text":"در نهایت، با استفاده از این مثال می‌توانید داده‌های جریانی را در برنامه‌های Flutter به صورت زمانی و پیوسته مدیریت کنید.","style":{"weight":[]}}]}]}],"author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","tag":["فلاتر","flutter","riverpod","state management"],"photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64f9fcaaa9ebdd5557a121e5.jpg","category":{"label":"فلاتر","author":"645b942ad412792a214b1177","description":"برنامه نویسی فریم ورک flutter","parent":"64d4ce0abed03dc8b207ba64","color":"#006381","avatar":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/demo.64d50ec469736b1601e502ea.png","namespace":"64ae7b316730ddb96b37c6fb","id":"64d4cf40bed03dc8b207ba68","notes":[{"title":"معرفی Riverpod","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","tag":["riverpod","flutter","state management "],"photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64f9fcaaa9ebdd5557a121e5.jpg","category":"64d4cf40bed03dc8b207ba68","id":"64f9fcf254f915f69631196b"},{"title":"کتابخانه ی (Riverpod (FutureProvider","tag":["flutter","فلاتر","riverpod","state management"],"photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64f9fcaaa9ebdd5557a121e5.jpg","category":"64d4cf40bed03dc8b207ba68","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","id":"652fb44b25b15e2ca0d2b69a"},{"title":"کتابخانه ی (Riverpod (NotifierProvider","tag":["فلاتر","flutter","riverpod","state management"],"photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64f9fcaaa9ebdd5557a121e5.jpg","category":"64d4cf40bed03dc8b207ba68","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","id":"652fba6025b15e2ca0d2b6a2"},{"title":"کتابخانه ی (Riverpod (Provider","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","tag":["فلاتر","flutter","riverpod","state management"],"photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64f9fcaaa9ebdd5557a121e5.jpg","category":"64d4cf40bed03dc8b207ba68","id":"652e8490324af022a3dd41aa"},{"title":"کتابخانه ی (Riverpod (StateNotifierProvider","tag":["فلاتر","flutter","riverpod","state management"],"photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64f9fcaaa9ebdd5557a121e5.jpg","category":"64d4cf40bed03dc8b207ba68","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","id":"652fb98c25b15e2ca0d2b6a0"},{"title":"کتابخانه ی (Riverpod (StateProvider","tag":["فلاتر","Flutter","riverpod","state management"],"category":"64d4cf40bed03dc8b207ba68","photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64f9fcaaa9ebdd5557a121e5.jpg","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","id":"652fac2925b15e2ca0d2b698"},{"title":"کتابخانه ی (Riverpod (StreamProvider","tag":["فلاتر","flutter","riverpod","state management"],"photo":"http://localhost:31375/64ae7b316730ddb96b37c6fb/photo/64f9fcaaa9ebdd5557a121e5.jpg","category":"64d4cf40bed03dc8b207ba68","author":"645b942ad412792a214b1177","namespace":"64ae7b316730ddb96b37c6fb","id":"652fb84a25b15e2ca0d2b69e"}]},"id":"652fb84a25b15e2ca0d2b69e"}},"__N_SSG":true}