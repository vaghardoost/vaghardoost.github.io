{"pageProps":{"note":{"id":"e62b53a1e6002618","title":"json schema چیست","content":[{"header":"h3","text":"پیشگفتار","id":"bc84a794","type":"title"},{"richtext":[{"content":[{"text":"اکثر فریم ورک های برنامه نویسی وب ، ویژگی validation form رو دارن که میاد داده هایی که کاربر قرار هست برای سرور بفرسته رو اعتبارسنجی میکنه. اما یک قالب عمومی برای json هست که قالب یک json رو با یک json دیگه توصیف میکنیم. اینجا میخام درباره ","style":{"weight":[]}},{"text":"json schema","style":{"weight":["BOLD"]}},{"text":" صحبت کنم.","style":{"weight":[]}}]}],"id":"5b77b214","type":"caption"},{"header":"h3","text":"backend یا frontend","id":"ad19bbc2","type":"title"},{"richtext":[{"content":[{"text":"یکی از ویژگی های خیلی منحصربفرد node.js اینه که شما یک تیکه کد رو میتونید توی هر قسمتی از سیستمتون استفاده کنین. مثلا یک کد دارید که قرار هست داده هایی که کاربر میفرسته رو اعتبارسنجی کنه. همون کد رو بدون هیچ تغییری میتونید و هم تو frontend هم توی backend بذارید.","style":{"weight":[]}}]},{"content":[{"text":"قالب json بومی جاوااسکریپت هست و میتونید اونو توی کد ها و اسکریپت های js تعریف کنید. اما نمیشه برای اون چارچوبی تعیین کرد. هرچند که اگر کدتون typescript باشه میتونید برای مثال با interface یک object رو تعریف کنید اما این توصیف برای توسعه کار خودتون مفید هست و اصطلاحا برای syntax استفاده میشه و نمیشه بهش دید اعتبارسنجی داشت.","style":{"weight":[]}}]},{"content":[{"text":"از یک طرف برای اینکه یک قالب عمومی برای بقیه زبان ها وجود داشته باشه که بیاد به json نگاه کنه و متوجه شه که این قالب صحیح هست یا نه امکانی معرفی شد به اسم json schema که برای object های json یک json دیگه میسازید که قالب رو توصیف کنه.","style":{"weight":[]}}]}],"id":"2755ad9b","type":"caption"},{"header":"h3","text":"تعریف","id":"5331535b","type":"title"},{"richtext":[{"content":[{"text":"یک json از کلید ها و مقدار ها یا key و value تشکیل میشه. عموما کلید ها string هستن و رایج هم همینه ولی میتونن از نوع های دیگه باشن. ","style":{"weight":[]}},{"text":"ذهنیت ما همون قالب عمومی یا string بمونه بهتره","style":{"weight":["ITALIC"]}},{"text":".","style":{"weight":[]}}]},{"content":[{"text":"مقادیر یا value ها میتونن از انواع رشته ، عددی ، منطقی یا boolean و یا آرایه باشن. با همین اوصاف میشه برای یک json قاعده تعریف کرد.","style":{"weight":[]}}]},{"content":[{"text":"برای مثال قالب ما اینطوری باشه:یک object هست (همون کلید مقدار) که کلید مقادرش باید اینطور باشه که یک فیلد به اسم age از نوع عدد \"","style":{"weight":[]}},{"text":"میتونه","style":{"weight":["UNDERLINE","ITALIC"]}},{"text":"\"","style":{"weight":["ITALIC"]}},{"text":" داشته باشه. یک فیلد هم به اسم id از نوع رشته ای ","style":{"weight":[]}},{"text":"\"","style":{"weight":["ITALIC"]}},{"text":"حتما\"","style":{"weight":["UNDERLINE","ITALIC"]}},{"text":" باید داشته باشه.چیزی جز اینها هم دیگه نداشته باشه.","style":{"weight":[]}}]},{"content":[{"text":"توصیفش میشه این:","style":{"weight":[]}}]}],"id":"c87ff3f7","type":"caption"},{"text":"{\n    \"type\": \"object\",\n    \"properties\": {\n      \"age\": { \"type\":\"number\", \"nullable\": true },\n      \"id\": { \"type\":\"string\" }\n    },\n    \"required\":[\"id\"],\n    \"additionalProperties\": false\n}\n","id":"26fc3a4e","type":"code"},{"header":"h3","text":"مثال","id":"d24f9271","type":"title"},{"richtext":[{"content":[{"text":"یه جمله معروف از آلبرت انیشتین هست که میگه","style":{"weight":["ITALIC"]}}]},{"content":[{"text":"مثال بهترین راه آموزش نیست، تنها راه آموزش هست.","style":{"weight":["ITALIC","BOLD"]}}]}],"id":"66786692","type":"frame"},{"richtext":[{"content":[{"text":"مثال بالا یک مثال ساده بود. حالا یک سناریوی کاملتر نسبت به قبلی رو اینجا تعریف میکنم. فرض کنید وب سروری هست که داده هایی رو از فرانت دریافت میکنه و برای ذخیره توی پایگاه داده هاش میاد و این داده ها رو بررسی میکنه که آیا معتبر هست یا نه.","style":{"weight":[]}}]},{"content":[{"text":"داده ای که میگیره باید این خصوصیات رو داشته باشه. یک json هست که کلیدهایی داره. ","style":{"weight":[]}},{"text":"کلید شماره یک","style":{"weight":["UNDERLINE"]}},{"text":" اسمش ","style":{"weight":[]}},{"text":"id","style":{"weight":["ITALIC","BOLD"]}},{"text":" هستش که باید string باشه اجباری هم هست. ","style":{"weight":[]}},{"text":"کلید شماره 2","style":{"weight":["UNDERLINE"]}},{"text":" اسمش ","style":{"weight":[]}},{"text":"name","style":{"weight":["ITALIC","BOLD"]}},{"text":" هست، اجباریه و باید از نوع string باشه. ","style":{"weight":[]}},{"text":"کلید شماره 3","style":{"weight":["UNDERLINE"]}},{"text":" اسمش ","style":{"weight":[]}},{"text":"address","style":{"weight":["ITALIC","BOLD"]}},{"text":" هست که یک آرایه هست. اعضای این آرایه باید اینطوری باشن که یک json باشن با کلید های city از نوع string که اجباریه و street که اختیاری نیست ,و اونم از نوع string هستش. جز این ها هم نباید چیز اضافی داشته باشه. ","style":{"weight":[]}},{"text":"کلید شماره 4","style":{"weight":["UNDERLINE"]}},{"text":" اسمش married هست (","style":{"weight":[]}},{"text":"چیز دیگه به ذهنم نرسید) ","style":{"weight":["ITALIC"]}},{"text":"که از نوع منطقی یا boolean باید باشه و ","style":{"weight":[]}},{"text":"کلید شماره 5","style":{"weight":["UNDERLINE"]}},{"text":" هم اسمش age هست که از نوع عدد هست.","style":{"weight":[]}}]},{"content":[{"text":"این یک مثال از توصیف های ما هست که شرایط ما رو احراز میکنه:","style":{"weight":[]}}]}],"id":"f0fa4379","type":"caption"},{"text":"{\n    \"id\": \"ae450-16220-b405a\",\n    \"name\": \"farhang\",\n    \"address\": [\n      {\n        \"city\": \"tehran\",\n        \"street\": \"jannat abad\"\n      }\n    ],\n    \"married\": false,\n    \"age\": 27\n}\n","id":"9f858b8b","type":"code"},{"richtext":[{"content":[{"text":"همین سناریو رو برای وب سرورمون با json schema توصیفش میکنیم. کدی که این شرایط رو توصیف میکنه این شکلی هست:","style":{"weight":[]}}]}],"id":"bcb9fe0e","type":"caption"},{"text":"{\n    \"type\": \"object\",\n    \"properties\": {\n      \n      \"id\": { \"type\": \"string\"},\n      \"name\": { \"type\": \"string\"},\n      \"married\": { \"type\": \"string\", \"nullable\": true},\n      \"age\": { \"type\": \"boolean\", \"nullable\": true},\n\n      \"address\": {\n        \"type\": \"array\",\n        \"items\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"city\":{ \"type\":\"string\" },\n            \"street\":{ \"type\":\"string\" }\n          },\n          \"addtionalProperties\": false,\n          \"required\":[\"city\",\"street\"]\n        }\n      }\n\n    },\n    \"addtionalProperties\": false,\n    \"required\":[\"id\",\"name\",\"address\"]\n  }\n","id":"a2d00c4e","type":"code"},{"richtext":[{"content":[{"text":"شاید احتیاج بدونید توضیح بدم ، اما بحث json schema خیلی عمیق تر از این صحبت ها هست و کلی داکیومنت گسترده براش وجود داره. جاهایی که مثلا یک کلید از دو نوع باشه یا اگر از یک نوع بود بقیه الگو کلا یه شکل دیگه باشه. یا مسایل دیگه. ولی فعلا تا اینجا بهترین ابزار توصیف json بحساب میاد و میشه باهاش برای json الگو تعیین کرد.","style":{"weight":[]}}]},{"content":[{"text":"برای node js که من کار میکنم بهترین کتابخونه براش ، ajv هست که هم میتونید توی frontend هم توی backend داشته باشید.","style":{"weight":[]}}]}],"id":"11e3b4ad","type":"caption"}],"author":1,"createAt":"1677787169309","tag":[],"photo":"15523e15076a599191af1fbe2c21877c.png","category":{"id":"6f55af0fceabffd5","label":"مهندسی نرم افزار","admin":1,"description":"درباره انواع سبک های کد نویسی و معماری های مختلف و نرم افزار های ویژه بستر های مختلف ","color":"#79b6d2","avatar":"7845f408fdf67a30f9856afb3628404d.png","_id":"640077f11ffd7ad6cb62550e","notes":[{"title":"چرا کارم با جاوا تمام شد","tag":[],"author":1,"photo":"a6e3be5cac1d2026d51858a5517f7668.jpeg","category":"6f55af0fceabffd5","id":"4b91cf31ac1bfb85","createAt":"1677786502027"},{"title":"json schema چیست","tag":[],"author":1,"category":"6f55af0fceabffd5","photo":"15523e15076a599191af1fbe2c21877c.png","id":"e62b53a1e6002618","createAt":"1677787169309"},{"title":"redis پایگاه داده روی رم","tag":[],"author":1,"category":"6f55af0fceabffd5","photo":"861a86c2aa72823936c3ee3c7b5d63aa.png","id":"825301a315c7c733","createAt":"1677786631115"},{"title":"فرانت را دستکم نگیرید","tag":[],"author":1,"category":"6f55af0fceabffd5","photo":"3025655631604f919919fdb78fe7d962.png","id":"b9c8b58b9b66100a","createAt":"1677786329782"}]}}},"__N_SSG":true}